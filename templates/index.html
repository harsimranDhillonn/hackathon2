<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
    <title>Recipe Reboot</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  
    <!-- Favicons --> <!--HAVE TO CHANGE THESE -->
    <link href="../static/assets/img/favicon-32x32.png" rel="icon">
  
    <!-- Google Fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
    <script>"https://use.fontawesome.com/4190456980.js"</script>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
  
    <!-- Vendor CSS Files -->
    <link href="../static/assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="../static/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="../static/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="../static/assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="../static/assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="../static/assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  
    <!--  Main CSS File -->
    <link href="../static/assets/css/style.css" rel="stylesheet">
  </head>
  
  <body id="body">

<!-- ======= Header ======= -->
<header id="header" class="fixed-top">
  <div class="container-fluid d-flex justify-content-between align-items-center">

    <!--<h1 class="logo me-auto me-lg-0"><a href="index.html">Kelly</a></h1>*/-->
    <a href="index.html" class="logo"><img src="../static/assets/img/Free_Sample_By_Wix (1).jpeg" alt="" class="img-fluid"></a>
    

    <nav id="navbar" class="navbar order-last order-lg-0">
      <ul class="menu" >
        <li><a class="active" href="index.html">Home</a></li>

        <li><a href="create_recipe.html" >Create Recipe</a></li>
        <li><a href="" onclick="">Favourites</a></li>
        <li><a href="" >About</a></li>

      </ul>

    </nav><!-- .navbar -->

    <div id="search_bar">
      <input type = "text" placeholder="Find Recipes">
      <a href = "results_page.html">
        <i class = "fa fa-search"></i>
      </a>
    </div>


    <div>
    </div>

  </div>

</header><!-- End Header -->



  <!-- ======= Feed Section ======= -->
  
<div id ="main">

  <!-- top three recipes -->
  <div class = "container-sm text-center">
    <h1>
      POPULAR RECIPES
    </h1>

    <div id="container-fluid recipe_super_div">
      <div class = "row align-items-start" id = "selectors">
        <div class = "col" id = "recipe1" >
          <div id = "recipe_image">
            <img class = "img-fluid" id = "recipe_image" src = "../static/assets/img/food2.jpg">
            </img>
            <div class = "row align-items-center" id = "likes">
              <a class="like_button" id = "like_button_1" href="http://127.0.0.1:5000/heart" data-gallery="portfolioGallery" class="col feed-lightbox">
                <span id = heart4>
                  <i class="fa  fa-heart-o fa-3x" aria-hidden="true" >
                  </i> 
                </span>
              </a>
              <div class="like-counter" id = "num_likes_1">
              </div>
            </div>
          </div> 
          <h class = "recipe_name" id = "recipe_title_1">
          </h>
        </div>
        <div class = "col" id = "recipe2" >
          <div id = "recipe_image">
            <img class = "img-fluid" id = "recipe_image" src = "../static/assets/img/food2.jpg">
            </img>
            <div class = "row align-items-center" id = "likes">
              <a class="like_button" id="like_button_2" href="http://127.0.0.1:5000/heart" data-gallery="portfolioGallery" class="col feed-lightbox">
                <span id = heart4>
                  <i class="fa  fa-heart-o fa-3x" aria-hidden="true"></i> 
                </span>
              </a>
              <div class="like-counter" id = "num_likes_2">
              </div>
            </div>
          </div> 
          <h class = "recipe_name" id = "recipe_title_2">
          </h>
        </div>
        <div class = "col" id = "recipe1">
          <div id = "recipe_image">
            <img class = "img-fluid" id = "recipe_image" src = "../static/assets/img/food2.jpg">
            </img>
            <div class = "row align-items-center" id = "likes">
              <a class="like_button" id="like_button_3" href="http://127.0.0.1:5000/heart" data-gallery="portfolioGallery" class="col feed-lightbox">
                <span id = heart4>
                  <i class="fa  fa-heart-o fa-3x" aria-hidden="true" >
                  </i> 
                </span>
              </a>
              <div class="like-counter" id = "num_likes_3">
              </div>
            </div>
          </div> 
          <h class = "recipe_name" id = "recipe_title_3">
          </h>
        </div>
      </div> 
    </div>
  </div>

</div>

<div class = "container-fluid text-center" id = "filters">
  <div class = "row align-items-center" id="categories">
    <a class = "col filter" id = "filter1" href="">
      Filter by Cost
    </a>
    <a class = "col filter" id = "filter2" href="">
      Filter by Prep Time
    </a>
    <a class = "col filter" id = "filter3" href="">
      Filter by Ingredients
    </a>
    <a class = "col filter" id = "filter4" href="">
      Filter by xxxx
    </a>
    <a class = "col filter" id = "filter5" href="">
      Filter by xxxx
    </a>
  </div>
</div>

<div class = "container-md text-center">
  <h2>
    Other Recipes
  </h2>
</div>
    



  
  <!-- ======= Footer ======= -->
  <footer  id="footer">
    <div class="container">
      <div class="copyright">
        &copy; Copyright Recipe Reboot <strong><span></span></strong>. All Rights Reserved 
      </div>
      <div class="credits">
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>
  </footer><!-- End  Footer -->
  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.0.272/jspdf.debug.js"></script>
  <script src="../static/assets/vendor/purecounter/purecounter.js"></script>
  <script src="../static/assets/vendor/aos/aos.js"></script>
  <script src="../static/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="../static/assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="../static/assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="../static/assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="../static/assets/vendor/waypoints/noframework.waypoints.js"></script>
  <script src="../static/assets/vendor/php-email-form/validate.js"></script>

  <!--  Main JS File -->
  <script type="module">
    import database from "../static/assets/js/res/database_parsing/queries.js"


    function generate_food_div(index) {
      return `<div class = 'col' id = 'recipe1' >
        <div id = 'recipe_image'>
          <img class = 'img-fluid' id = 'recipe_image' src = '../static/assets/img/food2.jpg'>
          </img>
          <div class = 'row align-items-center' id = 'likes'>
            <a class='like_button' id = 'like_button_` + index + `' href='http://127.0.0.1:5000/heart' data-gallery='portfolioGallery' class='col feed-lightbox'>
              <span id = heart4>
                <i class='fa  fa-heart-o fa-3x' aria-hidden='true' >
                </i> 
              </span>
            </a>
            <div class='like-counter' id = 'num_likes_` + index + `'>
            </div>
          </div>
        </div> 
        <h class='recipe_name' id = 'recipe_title_` + index + `'>
        </h>
      </div>`
    }



    export function load_recipe() {
      // Gets all the recipes
      const recipes = database.get_all_recipes();

      let food_div = $("#recipe_super_div");
      let total_text = "";

      //Adds the row organizer
      total_text += "<div class = 'row align-items-start' id = 'selectors'>"
      for (let i = 0; i < recipes.length; i++) {
        total_text += generate_food_div((i + 1));
      }
      total_text += "</div>"
      food_div.html(total_text);

      // Adds the recipes
      for (let i = 0; i < recipes.length; i++) {
        const index = i + 1;
        const recipe_title = "recipe_title_" + index
        $('#' + recipe_title).html(recipes[i].name)

        const recipe_likes = "num_likes_" + index
        $('#' + recipe_likes).html(recipes[i].likes + " Likes")

        const like_button = "like_button_" + index;
        $('#' + like_button).click(
          function() {
            database.like_recipe(recipes[i].name);
          }
        )
      }
    }

    window.onload = load_recipe();
  </script>
</body>

</html>